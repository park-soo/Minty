<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<th:block th:fragment="header">

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
            crossorigin="anonymous"
    />

    <th:block layout:fragment="css">
        <style>
@font-face {
    font-family: 'YourFontName';
    src: url('../fonts/BMJUA_ttf.ttf') format('truetype');
}
 .headerArea {
 font-family: 'YourFontName', sans-serif;
 }
      .navbar {
        position: fixed;
        width: 100%;
      }
      .menu-a {
        color: black;
        font-size: 22px;
        font-weight: bold;
      }

      .adminPage {
        display: none;
      }
      .black-bg {
        width: 100%;
        height: 100%;
        position: fixed;
        background: rgba(0, 0, 0, 0.5);
        z-index: 5;
        padding: 30px;
        visibility: hidden;
        opacity: 0;
        transition: all 1s;
      }
      .white-bg {
        background: white;
        border-radius: 5px;
        padding: 30px;
        top: 25%;
        left: 35%;
        position: fixed;
        width: 540px;
        height: 250px;
        border-radius: 30px;
      }
      .show-modal {
        opacity: 1;
        visibility: visible;
      }
        </style>
    </th:block>

    <div class="headerArea">
        <nav class="navbar navbar-dark" style="background:white;">
            <div class="container d-flex justify-content-between">
                <a class="navbar-brand" href="#home">
                    <img src="/image/logo.PNG" alt="로고 이미지" width="120px" height="70px" />
                </a>
                <div class="navbar-nav me-md-auto d-flex flex-row gap-2">
                    <p></p>
                    <a class="nav-link menu-a" href="#sell">팝니다</a>
                    <p></p>
                    <a class="nav-link menu-a" href="#buy">삽니다</a>
                    <p></p>
                    <a class="nav-link menu-a" href="#emergencyJob">급해요</a>
                    <p></p>
                    <a class="nav-link menu-a" href="#event">이벤트</a>
                    <p></p>
                    <a class="nav-link menu-a" href="#community">커뮤니티</a>
                    <p></p>
                    <a class="nav-link menu-a" href="#quote">시세조회</a>
                    <p></p>
                </div>
                <div class="navbar-nav d-flex flex-row gap-2">
                    <a class="nav-link menu-a logout" href="#myShop">개인상점</a>
                    <p></p>
                    <a class="nav-link menu-a logout" href="#myPage">마이페이지</a>
                    <p></p>
                    <a class="nav-link menu-a logout admin-page" href="#adminPage">관리자페이지</a>
                    <p></p>

                    <a class="nav-link menu-a login" href="#login">로그인</a>
                </div>
            </div>
        </nav>
    </div>

    <div class="black-bg">
        <div class="white-bg">
            <h4>로그인하세요</h4>
            <!--로그인버튼누르면 갈곳-->
            <form action="">
                <div class="my-3">
                    <input type="text" class="form-control" id="email" />
                </div>
                <div class="my-3">
                    <input type="password" class="form-control" id="pass" />
                </div>
                <button type="submit" class="btn btn-primary">전송</button>
                <button type="button" class="btn btn-danger" id="close">닫기</button>
            </form>
        </div>
    </div>

<th:block layout:fragment="script">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script th:inline="javascript">
      //로그인창
      $("#close").on("click", function () {
        $(".black-bg").removeClass("show-modal");
      });
      $(".login").on("click", function () {
        $(".black-bg").addClass("show-modal");
      });

        $(document).ready(function () {
            $(".menu-a")
                .on("mouseover", function () {
                    $(this).css({
                        color: "#5bc27e",
                        "text-shadow": "1px 1px 1px aqua",
                        "transform-origin": "center",
                        transition: "all 0.5s",
                    });
                })
                .on("mouseout", function () {
                    $(this).css({
                        color: "black",
                        "text-shadow": "none",
                        "transform-origin": "center",
                        transition: "all 0.5s",
                    });
                });

            var isLoggedIn = false; // 로그인 상태를 나타내는 변수

            // 상태에 따라 로그아웃 버튼을 표시하거나 숨김
            function updateLogoutStatus() {
                if (isLoggedIn) {
                    $(".logout").show(); // 로그인 상태일 때 보이게 함
                } else {
                    $(".logout").hide(); // 로그아웃 상태일 때 숨김
                }
            }

            // 로그아웃 버튼을 클릭했을 때 로그아웃 상태로 변경
            $(".logout").on("click", function () {
                isLoggedIn = false;
                updateLogoutStatus();
            });

            // 페이지 로드 시 로그아웃 상태 업데이트
            updateLogoutStatus();
        });
    </script>
</th:block>
</th:block>
</html>
